/* Vars */
@switchToMobileWidth: 880px;

/* Style */
#mobile-menu-trigger-wrap {
	display: none;
	text-align: right;
	@media screen and (max-width: @switchToMobileWidth) {
		display: block;
	}
	
	a#mobile-menu-trigger:link,
	a#mobile-menu-trigger:visited {
		color: @inverse-link;
		font-size: @font-size-mini;
		line-height: @line-height-mini;
		text-transform: uppercase;
		text-align: center;
		.inline-block;
		padding: 0 @padding-default 0 @padding-default;
		
		&:hover,
		&:active {
			color: @inverse-link-hover;
		}
		
		.fa {
			font-size: @font-size-large;
			line-height: 1em;
		}
				
	}
}

ul#header-menu {
	position: relative;
	padding: 0;
	margin: 0;
	list-style: none;
	
	@media screen and (max-width: @switchToMobileWidth) {
		display: none;
		position: absolute;
		top: 0;
		right: 0%;
		text-align: left;
		width: 100%;
		max-width: 320px;
		min-height: 100%;
		min-height: 100vh;
		z-index: 55;
		padding: @padding-default;
		background-color: @brand-color-1;
	}
		
	> li {
		.inline-block;
		margin-right: -4px;
		vertical-align: middle;
		position: relative;
		
		@media screen and (max-width: @switchToMobileWidth) {
			display: block;
			margin-right: 0;
		}
		
		> a.header-menu-parent-link:link,
		> a.header-menu-parent-link:visited {
			color: @inverse-link;
			display: block;
			padding: @padding-default;
			font-size: @font-size-small;
			line-height: @line-height-small;
			
			@media screen and (max-width: 1068px) {
				padding: @padding-cozy;
			}
			
			@media screen and (max-width: @switchToMobileWidth) {
				border-bottom: 1px solid @grey-extra-light;
			}
						
			&:hover,
			&:active {
				color: @inverse-link-hover;
			}
			
		}
		
		&.header-menu-item-has-children {
			
			@media screen and (max-width: @switchToMobileWidth) {
				position: relative;
				
				> a.header-menu-parent-link:link,
				> a.header-menu-parent-link:visited {
					padding-right: 32px;
				}
				
				a.header-menu-item-has-children-trigger:link,
				a.header-menu-item-has-children-trigger:visited {
					position: absolute;
					color: @inverse-link;
					top: 0;
					right: 0;
					width: 32px;
					font-size: @font-size-default;
					line-height: 37px;
					height: 37px;
					border-left: 1px dotted @grey-extra-light;
					text-align: center;
					
					&:hover,
					&:active {
						color: @inverse-link-hover;
					}
					
				}
				
			}


			
			.header-menu-dropdown {
				position: absolute;
				top: 110%;
				left: 50%;
				width: 268px;
				margin-left: -134px;
				padding: @padding-default;
				background-color: #FFF;
				-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
				filter: alpha(opacity=0);
				opacity: 0;
				visibility: hidden;
				.transition-fast;
				z-index: 55;
				border: 1px solid @grey-extra-light;
				
				@media screen and (max-width: @switchToMobileWidth) {
					position: relative;
					top: auto;
					left: auto;
					width: 100%;
					margin-left: 0;
					padding: 0;
					display: none;
					-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
					filter: alpha(opacity=100);
					opacity: 1;
					visibility: visible;
					border: none;
					background: @brand-color-2;
				}
				
				> ul {
					position: relative;
					margin: 0;
					padding: 0;
					list-style: none;
					
					&:after {
						bottom: 100%;
						left: 50%;
						border: solid transparent;
						content: " ";
						height: 0;
						width: 0;
						position: absolute;
						pointer-events: none;
						border-color: rgba(255, 255, 255, 0);
						border-bottom-color: #fff;
						border-width: 24px;
						margin-left: -24px;
						
						@media screen and (max-width: @switchToMobileWidth) {
							display: none;
						}
						
					}
					
					> li {
						display: block;
						padding: 0;
						margin: 0;
						
						a.header-menu-child-link:link,
						a.header-menu-child-link:visited {
							display: block;
							font-size: @font-size-small;
							line-height: @line-height-small;
							text-align: center;
							padding: @padding-cozy 0;
							border-bottom: 1px solid @grey-extra-light;
							.transition-fast;
							
							@media screen and (max-width: @switchToMobileWidth) {
								color: @inverse-link;
								text-align: left;
								padding: @padding-cozy;
								border-bottom: 1px solid @grey-medium;
							}
														
							&:hover,
							&:active {
								background-color: @grey-extra-light;
								@media screen and (max-width: @switchToMobileWidth) {
									background: none;
									color: @inverse-link-hover;
								}
							}
							
						}
						
					}
					
				}
				
			}
			
			&:hover {
				.header-menu-dropdown {
					top: 100%;
					-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
					filter: alpha(opacity=100);
					opacity: 1;
					visibility: visible;
				}
			}
			
		}
		
		
		&.header-menu-cart-link {
			
			a:link,
			a:visited {
				color: @inverse-link;
				font-size: @font-size-mini;
				line-height: @line-height-mini;
				text-transform: uppercase;
				text-align: center;
				display: block;
				padding: 0 @padding-default*2 0 @padding-default;
				
				&:hover,
				&:active {
					color: @inverse-link-hover;
				}
				
				.fa {
					font-size: @font-size-large;
					line-height: 1em;
				}
				
			}
			
			@media screen and (max-width: @switchToMobileWidth) {
				.inline-block;
				width: 50%;
				margin: 0 -4px 0 0;
				vertical-align: middle;
				text-align: center;
			}
		
			
		}
		
		&.header-menu-express-club-btn {
			@media screen and (max-width: @switchToMobileWidth) {
				.inline-block;
				width: 50%;
				margin: 0 -4px 0 0;
				vertical-align: middle;
				text-align: center;
			}
		}
		
	}
	
}

a.header-menu-close-trigger:link,
a.header-menu-close-trigger:visited {
	margin-bottom: @margin-default;
}